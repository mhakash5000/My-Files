1 php artisan make:request CategoryRequest



// this code for controller
// CategoryRequest is request name
 public function update(CategoryRequest $request, $id)
    {
        $update=Category::find($id);
        $update->updated_by=Auth::user()->id;
        $update->name=$request->name;
        $update->created_by=$request->created_by;
        $update->updated_by=$request->updated_by;
        $update->save();
        Session::flash('success','Divisions Updated successfully');
       return redirect()->back();
    }
    
    
 //Dublicate value will not take by this code
 //it is request file  
<?php

namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;

class DivisionRequest extends FormRequest
{
    
     //Determine if the user is authorized to make this request.

    public function authorize()
    {
        return true;
    }


  //Get the validation rules that apply to the request.


    public function rules()
    {
        if(isset($this->id)){
            return [
                'name' => 'required|unique:divisions,name,'.$this->id
            ];
        }
            return [
                'name' => 'required|unique:divisions'
            ];

    }
}

